import React, {useEffect} from 'react';
import {Link} from 'react-router-dom'

import useFetch from 'hooks/useFetch';
import {Loading} from 'components/loading';
import {ErrorMessage} from 'components/error';

export const PopularTags = () => {
   
   const [{response, isLoading, error},doFetch] = useFetch('/tags')
   // console.log('popularTags:', response)

   useEffect(() => {
      doFetch()
   }, [doFetch])
// если загрузка или нет респонса
   if(isLoading || !response) {
      return <Loading />
   }

   if(error) {
      return <ErrorMessage />
   }

   return (
      <div className='sidebar'>
         <p>Populars tags</p>
         <div className='tag-list'>
            {/* {response.tags.map((item) => (
               console.log(item)
            ))} */}
            {response.tags.map((tag) => (
               <Link to={`/tags/${tag}`} className='tag-default tag-pill' key={tag}>
                  {tag}
               </Link>
            ))}
         </div>
      </div>
   )
}